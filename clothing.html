<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clothing | C-BLOCK</title>
    <link rel="stylesheet" href="styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

<!-- ================= NAV ================= -->
<nav class="navbar">
    <ul class="nav-menu" id="navMenu">
        <li><a href="index.html">HOME</a></li>
        <li><a href="clothing.html">CLOTHING</a></li>
        <li><a href="community.html">COMMUNITY & PERKS</a></li>
        <li><a href="join.html" class="highlighted">JOIN THE TEAM</a></li>
        <li><a href="about.html">ABOUT US</a></li>
        <li><a href="contact.html">CONTACT US</a></li>
    </ul>

    <a href="index.html">
        <img src="Assets/Logo.png" class="nav-logo" alt="C-BLOCK">
    </a>

    <div class="mobile-menu-toggle" id="mobileMenuToggle">
        <span></span><span></span><span></span>
    </div>
</nav>

<!-- ================= PAGE INTRO ================= -->
<section class="page-content">
    <h2>Shop C-Block Clothing</h2>
    <p>Affordable. Limited. Exclusive streetwear.</p>
</section>

<!-- ================= SHOP GRID ================= -->
<section class="section-white">
<div class="container">

<h2 class="text-center mb-4">T-SHIRTS</h2>

<div class="shop-grid">

<!-- PRODUCT -->
<div class="shop-item">

    <div class="shop-image-box">
        <img class="shop-image"
             src="Clothing/WFG.jpg"
             data-front="Clothing/WBG.jpg"
             data-back="Clothing/WFG.jpg"
             data-black-front="Clothing/BFG.jpg"
             data-black-back="Clothing/BBG.jpg"
             data-white-front="Clothing/WBG.jpg"
             data-white-back="Clothing/WFG.jpg">
    </div>

    <h3>Gunna T-Shirt</h3>
    <p class="price">R 550.00</p>

    <div class="shop-colors">
        <span class="shop-color black active" onclick="changeColor(this,'black')"></span>
        <span class="shop-color white" onclick="changeColor(this,'white')"></span>
    </div>

    <div class="shop-rating">★★★★★ <span>(4.9)</span></div>

    <button class="btn btn-secondary quick-view-btn">Quick View</button>
</div>

</div>
</div>
</section>

<!-- ================= QUICK VIEW MODAL ================= -->
<div class="quick-view-modal" id="quickViewModal">
    <div class="quick-view-content">
        <span class="close-modal">&times;</span>
        <img id="modalImage">
        <h3 id="modalTitle"></h3>
        <p id="modalPrice"></p>
        <button class="btn btn-primary" id="addToCartBtn">Add to Cart</button>
    </div>
</div>

<!-- ================= SCRIPTS ================= -->
<script>
/* MOBILE MENU */
document.getElementById('mobileMenuToggle').onclick = () =>
    document.getElementById('navMenu').classList.toggle('active');

/* IMAGE HOVER FRONT/BACK */
document.querySelectorAll('.shop-image-box').forEach(box => {
    const img = box.querySelector('.shop-image');

    box.addEventListener('mouseenter', () => {
        img.style.opacity = 0;
        setTimeout(() => img.src = img.dataset.back, 150);
        setTimeout(() => img.style.opacity = 1, 200);
    });

    box.addEventListener('mouseleave', () => {
        img.style.opacity = 0;
        setTimeout(() => img.src = img.dataset.front, 150);
        setTimeout(() => img.style.opacity = 1, 200);
    });

    /* MOBILE SWIPE */
    let startX = 0;
    box.addEventListener('touchstart', e => startX = e.touches[0].clientX);
    box.addEventListener('touchend', e => {
        const endX = e.changedTouches[0].clientX;
        if (startX - endX > 40) img.src = img.dataset.back;
        if (endX - startX > 40) img.src = img.dataset.front;
    });
});

/* COLOR SWITCH */
function changeColor(el, color) {
    const item = el.closest('.shop-item');
    const img = item.querySelector('.shop-image');

    img.style.opacity = 0;
    setTimeout(() => {
        img.dataset.front = img.dataset[`${color}-front`];
        img.dataset.back = img.dataset[`${color}-back`];
        img.src = img.dataset.front;
        img.style.opacity = 1;
    }, 150);

    item.querySelectorAll('.shop-color').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
}

/* CART */
let cart = JSON.parse(localStorage.getItem('cart')) || [];
function addToCart(product) {
    cart.push(product);
    localStorage.setItem('cart', JSON.stringify(cart));
    alert('Added to cart');
}

/* QUICK VIEW */
const modal = document.getElementById('quickViewModal');
document.querySelectorAll('.quick-view-btn').forEach(btn => {
    btn.onclick = () => {
        const item = btn.closest('.shop-item');
        modal.querySelector('#modalImage').src = item.querySelector('.shop-image').src;
        modal.querySelector('#modalTitle').innerText = item.querySelector('h3').innerText;
        modal.querySelector('#modalPrice').innerText = item.querySelector('.price').innerText;

        document.getElementById('addToCartBtn').onclick = () => {
            addToCart({
                title: modal.querySelector('#modalTitle').innerText,
                price: modal.querySelector('#modalPrice').innerText,
                image: modal.querySelector('#modalImage').src
            });
        };

        modal.classList.add('active');
    };
});

document.querySelector('.close-modal').onclick = () =>
    modal.classList.remove('active');
</script>

</body>
</html>
